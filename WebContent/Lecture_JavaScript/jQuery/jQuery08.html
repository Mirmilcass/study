<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>filter</title>
<style>
p, div {
	margin: 1px;
	padding: 1px;
	font-weight: bold;
	font-size: 16px;
}

div {
	color: blue;
}

b {
	color: red;
}
</style>
<script type="text/javascript" src="http://code.jquery.com/jquery-latest.min.js"></script>
<script type="text/javascript">
	$(document).ready(function() {
		jQuery.fn.showTags = function(n) {
			var tags = this.map(function() {
				return this.tagName;
			}).get().join(", ");
			$("b:eq( " + n + " )").text(tags);
			return this;
		};

		$("p").showTags(0).find("span").showTags(1).css("background", "yellow").end().showTags(2).css("font-style", "italic");

		// .end() = 이전 선택 요소를 반환
		$("ul.first").find(".foo").css("background-color", "red").end().find(".bar").css("background-color", "green");
	});
</script>
</head>
<body>

	<ul class="first">
		<li class="foo">list item 1</li>
		<li>list item 2</li>
		<li class="bar">list item 3</li>
	</ul>
	<ul class="second">
		<li class="foo">list item 1</li>
		<li>list item 2</li>
		<li class="bar">list item 3</li>
	</ul>

	<p>
		Hi there <span>how</span> are you <span>doing</span>?
	</p>

	<p>
		This <span>span</span> is one of several <span>spans</span> in this <span>sentence</span>.
	</p>

	<div>
		Tags in jQuery object initially: <b></b>
	</div>

	<div>
		Tags in jQuery object after find: <b></b>
	</div>

	<div>
		Tags in jQuery object after end: <b></b>
	</div>

</body>
</html>